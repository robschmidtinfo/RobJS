export class RobJSApp{constructor(t){this.tagId=t,this.state={},this.oldState={},this.components=[]}init(t){window[t]=this}defineStateVar(t,e){this.state[t]=e,this.oldState[t]=e}registerComponent(t,e,s,...i){this.components.push({viewFunction:t,id:e,usedStateKeys:s,args:i})}initialRender(t,e){document.getElementById(this.tagId).innerHTML=t(e),this.components.forEach((t=>this.updateComponent(t)))}updateComponent(t){const e=document.getElementById(t.id),s=document.createElement("div"),i=t.usedStateKeys.map((t=>this.state[t]));s.innerHTML=t.viewFunction(t.id,...t.args,...i);const n=s.firstElementChild;e.replaceWith(n)}updateState(t,e){this.oldState=this.state,this.state={...this.state,[t]:e},this.components.filter((e=>e.usedStateKeys.includes(t))).forEach((t=>{this.updateComponent(t)}))}}